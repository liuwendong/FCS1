{"remainingRequest":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/华融催收APP开发/fcs/src/pages/caseDetail/component/RmasVideo.vue?vue&type=style&index=0&id=c911099c&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/src/pages/caseDetail/component/RmasVideo.vue","mtime":1542767771875},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js","mtime":1539243342312},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"~styles/varibles.styl\"\n.videoDiv\n    margin-top: .2rem\n    text-align: left\n    margin-left: .4rem\n    margin-right: .4rem\n    .video-Tip\n        font-size: .28rem\n        color: $font-color\n        display: block\n        text-align: left\n    .videos\n        overflow: hidden\n        .oneVideo\n            float: left\n            .img\n                width: 1.24rem\n                height: 1.24rem\n                padding-top: .2rem\n                padding-right: .4rem\n                display: block\n            .video\n                width: 1.24rem\n                height: 1.24rem\n                padding-top: .2rem\n                padding-right: .4rem\n                display: block\n            .name\n                font-size: .05rem\n                color: #666666\n                display: block\n                width: 1.24rem\n                text-align: center\n                margin-top: .1rem\n",{"version":3,"sources":["RmasVideo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RmasVideo.vue","sourceRoot":"src/pages/caseDetail/component","sourcesContent":["<template>\n    <div class=\"videoDiv\">\n        <label class=\"video-Tip\">催收视频：</label>\n        <div class=\"videos\">\n            <div class=\"oneVideo\" v-for=\"(url,index) in videoLoaclUrls\" :key=\"index\">\n                <video\n                        class=\"video\"\n                        :src=url\n                        preload=\"auto\"\n                        controls=\"controls\"\n                />\n                <label class=\"name\">{{videoNames[index]}}</label>\n            </div>\n            <div class=\"oneVideo\" v-for=\"(url,index) in this.urls\" :key=\"index\">\n                <img class=\"img\" :src=\"downloadBtn\" @click=\"downloadVideo(index)\"/>\n                <label class=\"name\">点击下载</label>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport photoUrl from \"../../../../static/xiazai.png\";\nimport { Decrypt, Encrypt } from \"../../../utils\";\nexport default {\n  name: \"RmasVideo\",\n  data() {\n    return {\n      urls: [],\n      videoNames: [],\n      videoLoaclUrls: [],\n      downloadBtn: photoUrl\n    };\n  },\n  props: {\n    item: Object\n  },\n  methods: {\n    downloadVideo(index) {\n      this.$emit(\"downloading\");\n      let videoUrl = this.urls[index];\n      let param = { url: videoUrl };\n      console.log(\"开始下载视频 url= \" + param);\n      let encrypt = Encrypt(JSON.stringify(param));\n      let self = this;\n      let url =\n        \"api/ace-app/fileDownload/download?\" +\n        \"parm=\" +\n        encodeURIComponent(encrypt);\n      console.log(\"下载路径 url=\" + url);\n      self\n        .$axios({\n          method: \"GET\",\n          url: url,\n          responseType: \"arraybuffer\"\n        })\n        .then(res => {\n          let blob = new Blob([res.data], {\n            type:\n              \"application/vnd.openxmlformates-officedocument.spreadsheetml.sheet\"\n          });\n          self.urls.splice(index, 1);\n          self.videoLoaclUrls.push(URL.createObjectURL(blob));\n          self.$emit(\"downloaded\");\n        })\n        .catch(error => {\n          console.log(error);\n          self.$emit(\"downloadErr\", \"录音下载失败\");\n        });\n    }\n  },\n  beforeMount() {\n    if (this.item.videoList.length > 0) {\n      this.urls = this.item.videoList.split(\",\");\n      console.log(\"视频路径----- \" + this.urls);\n      for (let i = 0; i < this.urls.length; i++) {\n        let oneUrl = this.urls[i];\n        let names = oneUrl.split(\"/\");\n        let name = names[names.length - 1];\n        this.videoNames.push(name);\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n    @import \"~styles/varibles.styl\"\n    .videoDiv\n        margin-top: .2rem\n        text-align: left\n        margin-left: .4rem\n        margin-right: .4rem\n        .video-Tip\n            font-size: .28rem\n            color: $font-color\n            display: block\n            text-align: left\n        .videos\n            overflow: hidden\n            .oneVideo\n                float: left\n                .img\n                    width: 1.24rem\n                    height: 1.24rem\n                    padding-top: .2rem\n                    padding-right: .4rem\n                    display: block\n                .video\n                    width: 1.24rem\n                    height: 1.24rem\n                    padding-top: .2rem\n                    padding-right: .4rem\n                    display: block\n                .name\n                    font-size: .05rem\n                    color: #666666\n                    display: block\n                    width: 1.24rem\n                    text-align: center\n                    margin-top: .1rem\n</style>\n"]}]}