{"remainingRequest":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/华融催收APP开发/fcs/src/pages/caseDetail/component/ApplyFor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/src/pages/caseDetail/component/ApplyFor.vue","mtime":1542337474901},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js","mtime":1539243342312},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js","mtime":1539243342312},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Hint from \"../../comment/Hint\";\nimport DialogBar from \"../../comment/DialogBar\";\nimport Loading from \"../../comment/Loading\";\nimport { Decrypt, Encrypt } from \"../../../utils\";\nexport default {\n  name: \"ApplyFor\",\n  data: function data() {\n    return {\n      money: \"\",\n      isShowDialog: false,\n      DialogContent: \"\",\n      showLoading: false,\n      goToLogin: false\n    };\n  },\n  components: {\n    Hint: Hint,\n    Loading: Loading,\n    DialogBar: DialogBar\n  },\n  props: {\n    mycase: Object\n  },\n  methods: {\n    searchClick: function searchClick() {\n      var self = this;\n\n      if (self.money.length == 0 || parseInt(self.money) > parseInt(self.mycase.overdueMoney) + parseInt(self.mycase.interest) + parseInt(self.mycase.penalty) + (self.mycase.damages == null ? 0 : parseInt(self.mycase.damages))) {\n        self.DialogContent = \"请输入有效金额\";\n        self.isShowDialog = true;\n      } else {\n        self.showLoading = true;\n        var param = {\n          caseSubId: self.mycase.caseSubId,\n          applyMoney: self.money,\n          applyWay: \"APP\"\n        };\n        var params = JSON.stringify(param);\n        var encrypt = Encrypt(params);\n        self.$axios({\n          method: \"POST\",\n          url: \"/api/ace-app/holdApply/rmasApplyCheck\",\n          data: {\n            params: encrypt,\n            userId: localStorage.userId,\n            token: localStorage.token\n          }\n        }).then(function (response) {\n          self.showLoading = false;\n          console.log(response);\n          var data = response.data;\n          var message = data.data;\n\n          if (message == \"success\") {\n            self.passClick();\n          } else if (message.code == \"duplicateLogin\") {\n            self.DialogContent = \"用户已在另一设备上登录，请在此设备上重新登录\";\n            self.isShowDialog = true;\n            self.goToLogin = true;\n          } else if (message == \"apply\") {\n            self.DialogContent = \"已提交过代扣申请，请等待上次申请的审核结果\";\n            self.isShowDialog = true;\n          }\n        }).catch(function (error) {\n          console.log(error);\n          self.DialogContent = \"系统繁忙，请稍等\";\n          self.isShowDialog = true;\n          self.unPassClick();\n        });\n      }\n    },\n    passClick: function passClick() {\n      this.$router.push({\n        name: \"result\",\n        params: {\n          isSucc: true,\n          fromRouter: \"applyFor\"\n        }\n      });\n    },\n    unPassClick: function unPassClick() {\n      this.$router.push({\n        name: \"result\",\n        params: {\n          isSucc: false,\n          fromRouter: \"applyFor\"\n        }\n      });\n    },\n    cancel: function cancel() {\n      this.isShowDialog = false;\n\n      if (this.goToLogin) {\n        var len = history.length;\n        this.$router.go(-(len - 1));\n      }\n    }\n  }\n};",{"version":3,"sources":["ApplyFor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"info\">\n            <div class=\"oneline\">\n                <div class=\"oneCase-key\">逾期金额：</div>\n                <div class=\"oneCase-value\">{{mycase.overdueMoney}}</div>\n            </div>\n            <div class=\"oneline\">\n                <div class=\"oneCase-key\">利息：</div>\n                <div class=\"oneCase-value\">{{mycase.interest}}</div>\n            </div>\n            <div class=\"oneline\">\n                <div class=\"oneCase-key\">逾期罚款：</div>\n                <div class=\"oneCase-value\">{{mycase.penalty}}</div>\n            </div>\n            <div class=\"oneline\">\n                <div class=\"oneCase-key\">违约金：</div>\n                <div class=\"oneCase-value\">{{mycase.damages}}</div>\n            </div>\n        </div>\n        <div class=\"money\">\n            <div class=\"idNo\">\n                <div class=\"idNo-label\">\n                    申请代扣金额:\n                </div>\n                <div class=\"idNo-input border-bottom\">\n                    <input v-model=\"money\" class=\"input\" type=\"number\" placeholder=\"请输入申请代扣金额\"/>\n                </div>\n            </div>\n            <div class=\"search-btn\" @click=\"searchClick\">\n                提交申请\n            </div>\n        </div>\n        <dialog-bar :show=\"isShowDialog\" :content=\"DialogContent\" @cancel=\"cancel\"></dialog-bar>\n        <!--加载中-->\n        <loading :isShowLoading=\"showLoading\"></loading>\n    </div>\n</template>\n\n<script>\nimport Hint from \"../../comment/Hint\";\nimport DialogBar from \"../../comment/DialogBar\";\nimport Loading from \"../../comment/Loading\";\nimport { Decrypt, Encrypt } from \"../../../utils\";\nexport default {\n  name: \"ApplyFor\",\n  data() {\n    return {\n      money: \"\",\n      isShowDialog: false,\n      DialogContent: \"\",\n      showLoading: false,\n      goToLogin: false\n    };\n  },\n  components: {\n    Hint,\n    Loading,\n    DialogBar\n  },\n  props: {\n    mycase: Object\n  },\n  methods: {\n    searchClick() {\n      let self = this;\n      if (\n        self.money.length == 0 ||\n        parseInt(self.money) >\n          parseInt(self.mycase.overdueMoney) +\n            parseInt(self.mycase.interest) +\n            parseInt(self.mycase.penalty) +\n            (self.mycase.damages == null ? 0 : parseInt(self.mycase.damages))\n      ) {\n        self.DialogContent = \"请输入有效金额\";\n        self.isShowDialog = true;\n      } else {\n        self.showLoading = true;\n        let param = {\n          caseSubId: self.mycase.caseSubId,\n          applyMoney: self.money,\n          applyWay: \"APP\"\n        };\n        let params = JSON.stringify(param);\n        let encrypt = Encrypt(params);\n        self\n          .$axios({\n            method: \"POST\",\n            url: \"/api/ace-app/holdApply/rmasApplyCheck\",\n            data: {\n              params: encrypt,\n              userId: localStorage.userId,\n              token: localStorage.token\n            }\n          })\n          .then(function(response) {\n            self.showLoading = false;\n            console.log(response);\n            let data = response.data;\n            let message = data.data;\n            if (message == \"success\") {\n              self.passClick();\n            } else if (message.code == \"duplicateLogin\") {\n              self.DialogContent = \"用户已在另一设备上登录，请在此设备上重新登录\";\n              self.isShowDialog = true;\n              self.goToLogin = true;\n            } else if (message == \"apply\") {\n              self.DialogContent = \"已提交过代扣申请，请等待上次申请的审核结果\";\n              self.isShowDialog = true;\n            }\n          })\n          .catch(function(error) {\n            console.log(error);\n            self.DialogContent = \"系统繁忙，请稍等\";\n            self.isShowDialog = true;\n            self.unPassClick();\n          });\n      }\n    },\n    passClick() {\n      this.$router.push({\n        name: \"result\",\n        params: { isSucc: true, fromRouter: \"applyFor\" }\n      });\n    },\n    unPassClick() {\n      this.$router.push({\n        name: \"result\",\n        params: { isSucc: false, fromRouter: \"applyFor\" }\n      });\n    },\n    cancel() {\n      this.isShowDialog = false;\n      if (this.goToLogin) {\n        let len = history.length;\n        this.$router.go(-(len - 1));\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import \"~styles/varibles.styl\"\n    .info\n        width: 90%\n        margin-left: 5%\n        height: 2.6rem\n        background: #ffffff\n        border-radius: .08rem\n        margin-top: .3rem\n        .oneline\n            display: flex\n            padding-top: .25rem\n            padding-bottom: .05rem\n            .oneCase-key\n                float: left\n                margin-left: .4rem\n                font-size: .28rem\n                color: $font-color\n                text-align: left\n                width : 1.86rem\n            .oneCase-value\n                font-size: .28rem\n                color: $font-color\n                text-align: left\n                flex: 1\n    .money\n        width: 90%\n        margin-left: 5%\n        height: 2.76rem\n        background: #ffffff\n        border-radius: .08rem\n        margin-top: .2rem\n        .idNo\n            height: 1.7rem\n            display: flex\n            background: #ffffff\n            .idNo-label\n                float: left\n                height: 0.75rem\n                margin-top: 0.74rem\n                width: 1.86rem\n                font-size: .28rem\n                margin-left: .64rem\n            .idNo-input\n                height: 0.75rem\n                width: 50%\n                margin-top: 0.3rem\n                .input\n                    margin-top: 0.3rem\n        .search-btn\n            line-height: 0.64rem\n            background: $mainColor\n            width: 80%\n            margin-left: 10%\n            color: #ffffff\n            font-size: 0.28rem\n            border-radius: 0.04rem\n</style>\n"],"sourceRoot":"src/pages/caseDetail/component"}]}