{"remainingRequest":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/华融催收APP开发/fcs/src/pages/login/component/LoginContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/src/pages/login/component/LoginContent.vue","mtime":1542762345372},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js","mtime":1539243342312},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/cache-loader/dist/cjs.js","mtime":1539243342312},{"path":"/Users/apple/Desktop/华融催收APP开发/fcs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport eyeOpen from \"../../../../static/eyeOpen@2x.png\";\nimport eyeClose from \"../../../../static/eyeClose@2x.png\";\nimport DialogBar from \"../../comment/DialogBar\";\nimport Loading from \"../../comment/Loading\";\nimport { Decrypt, Encrypt } from \"../../../utils\";\nexport default {\n  name: \"LoginContent\",\n  data: function data() {\n    return {\n      isOpen: false,\n      pwd: \"\",\n      name: \"\",\n      eyeImgUrl: eyeClose,\n      showLoading: false,\n      isShowDialog: false,\n      DialogContent: \"\",\n      goToLogin: false,\n      testUrl: \"\",\n      videoUrl: \"\"\n    };\n  },\n  components: {\n    DialogBar: DialogBar,\n    Loading: Loading\n  },\n  methods: {\n    cancel: function cancel() {\n      this.isShowDialog = false;\n    },\n    openCloseClick: function openCloseClick() {\n      if (this.isOpen) {\n        this.eyeImgUrl = eyeClose;\n        this.isOpen = !this.isOpen;\n      } else {\n        this.eyeImgUrl = eyeOpen;\n        this.isOpen = !this.isOpen;\n      }\n    },\n    loginBtnClick: function loginBtnClick() {\n      var self = this;\n\n      if (this.name.length == 0) {\n        this.DialogContent = \"请输入用户名\";\n        this.isShowDialog = true;\n      } else if (this.pwd.length == 0) {\n        this.DialogContent = \"请输入密码\";\n        this.isShowDialog = true;\n      } else {\n        localStorage.clear();\n        self.showLoading = true;\n        var param = {\n          userId: self.name,\n          pwd: self.pwd\n        };\n        var params = JSON.stringify(param);\n        var encrypt = Encrypt(params);\n        this.$axios({\n          method: \"POST\",\n          url: \"/api/ace-app/login/\",\n          data: {\n            params: encrypt,\n            token: \"\"\n          }\n        }).then(function (response) {\n          console.log(response);\n          self.showLoading = false;\n          var mydata = response.data;\n          var data = mydata.data;\n          var limited = data.limitedTeam;\n          var token = data.token;\n          localStorage.token = token;\n          localStorage.userId = self.name;\n          console.log(token); //duplicateLogin\n\n          if (limited.limitedTeam == \"notexist\") {\n            self.DialogContent = \"用户名不存在或者密码错误\";\n            self.isShowDialog = true;\n          } else if (limited.limitedTeam == \"manager\") {\n            self.$router.push(\"/myCase\");\n          } else if (limited.limitedTeam == \"oaTeam\") {\n            self.$router.push(\"/myCase\");\n          } else if (limited.limitedTeam == \"repayTeam\") {\n            self.$router.push(\"/check\");\n          }\n        }).catch(function (error) {\n          console.log(error);\n          self.showLoading = false;\n          self.DialogContent = \"系统繁忙，请稍等\";\n          self.isShowDialog = true;\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["LoginContent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"content\">\n        <div class=\"logo\">\n        <img src=\"~imgUrl/FCSLogo.jpg\"/>\n        </div>\n        <div class=\"tip\">催收APP</div>\n        <div class=\"loginInput\">\n            <div class=\"name border-bottom\">\n                <img class=\"nameSpan\" src=\"~imgUrl/userName@2x.png\" />\n                <input class=\"nameInput\" type=\"text\" placeholder=\"请输入用户名\" v-model=\"name\"/>\n            </div>\n            <div class=\"pwd border-bottom\">\n                <img class=\"pwdSpan\" src=\"~imgUrl/pwd@2x.png\"/>\n                <input\n                        class=\"pwdInput\"\n                        type=\"text\"\n                        v-show=\"isOpen\"\n                        v-model=\"pwd\"\n                        placeholder=\"请输入密码\"\n                />\n                <input\n                        class=\"pwdInput-pwd\"\n                        type=\"password\"\n                        v-show=\"!isOpen\"\n                        v-model=\"pwd\"\n                        placeholder=\"请输入密码\"\n                />\n                <img id=\"eyeId\" class=\"eye\" @click=\"openCloseClick\" :src=\"eyeImgUrl\"/>\n            </div>\n        </div>\n        <button\n                class=\"loginBtn\"\n                @click=\"loginBtnClick\"\n        >登录</button>\n        <!--提示语-->\n        <dialog-bar\n                :show=\"isShowDialog\"\n                :content=\"DialogContent\"\n                @cancel=\"cancel\"\n        ></dialog-bar>\n        <!--加载中-->\n        <loading :isShowLoading=\"showLoading\"></loading>\n    </div>\n</template>\n\n<script>\nimport eyeOpen from \"../../../../static/eyeOpen@2x.png\";\nimport eyeClose from \"../../../../static/eyeClose@2x.png\";\nimport DialogBar from \"../../comment/DialogBar\";\nimport Loading from \"../../comment/Loading\";\nimport { Decrypt, Encrypt } from \"../../../utils\";\nexport default {\n  name: \"LoginContent\",\n  data() {\n    return {\n      isOpen: false,\n      pwd: \"\",\n      name: \"\",\n      eyeImgUrl: eyeClose,\n      showLoading: false,\n      isShowDialog: false,\n      DialogContent: \"\",\n      goToLogin: false,\n      testUrl: \"\",\n      videoUrl: \"\"\n    };\n  },\n  components: {\n    DialogBar,\n    Loading\n  },\n  methods: {\n    cancel() {\n      this.isShowDialog = false;\n    },\n    openCloseClick() {\n      if (this.isOpen) {\n        this.eyeImgUrl = eyeClose;\n        this.isOpen = !this.isOpen;\n      } else {\n        this.eyeImgUrl = eyeOpen;\n        this.isOpen = !this.isOpen;\n      }\n    },\n    loginBtnClick() {\n      let self = this;\n      if (this.name.length == 0) {\n        this.DialogContent = \"请输入用户名\";\n        this.isShowDialog = true;\n      } else if (this.pwd.length == 0) {\n        this.DialogContent = \"请输入密码\";\n        this.isShowDialog = true;\n      } else {\n        localStorage.clear();\n        self.showLoading = true;\n        let param = { userId: self.name, pwd: self.pwd };\n        let params = JSON.stringify(param);\n        let encrypt = Encrypt(params);\n        this.$axios({\n          method: \"POST\",\n          url: \"/api/ace-app/login/\",\n          data: {\n            params: encrypt,\n            token: \"\"\n          }\n        })\n          .then(function(response) {\n            console.log(response);\n            self.showLoading = false;\n            let mydata = response.data;\n            let data = mydata.data;\n            let limited = data.limitedTeam;\n            let token = data.token;\n            localStorage.token = token;\n            localStorage.userId = self.name;\n            console.log(token); //duplicateLogin\n            if (limited.limitedTeam == \"notexist\") {\n              self.DialogContent = \"用户名不存在或者密码错误\";\n              self.isShowDialog = true;\n            } else if (limited.limitedTeam == \"manager\") {\n              self.$router.push(\"/myCase\");\n            } else if (limited.limitedTeam == \"oaTeam\") {\n              self.$router.push(\"/myCase\");\n            } else if (limited.limitedTeam == \"repayTeam\") {\n              self.$router.push(\"/check\");\n            }\n          })\n          .catch(function(error) {\n            console.log(error);\n            self.showLoading = false;\n            self.DialogContent = \"系统繁忙，请稍等\";\n            self.isShowDialog = true;\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n    @import \"~styles/varibles.styl\"\n    .content\n        width: 100%\n        height: 100%\n        .logo\n            margin-top: 2rem\n        .tip\n            margin-top: 0.2rem\n            font-size: 0.4rem\n            color: $font-color\n            font-family: \"PingFang SC\"\n        .loginInput\n            width: 80%\n            margin-top: 0.84rem\n            margin-left: 10%\n            line-height: 0.8rem\n            .name\n                display: flex\n                .nameSpan\n                    width: .6rem\n                    height: .6rem\n                    float: left\n                .nameInput\n                    flex: 1\n                    margin-left: 0.1rem\n            .pwd\n                display: flex\n                .pwdSpan\n                    width: .6rem\n                    height: .6rem\n                    margin-top: .1rem\n                    float: left\n                .pwdInput\n                    flex: 1\n                    margin-left: 0.1rem\n                .pwdInput-pwd\n                    flex: 1\n                    margin-left: 0.1rem\n                .eye\n                    width: .6rem\n                    height: .6rem\n                    float: right\n        .loginBtn\n            margin-top: 0.6rem\n            width: 80%\n            line-height: 0.8rem\n            height: 0.8rem\n            background: $commitBtnColor\n            border-radius: 0.04rem\n            color: #ffffff\n            font-size: 0.3rem\n</style>\n"],"sourceRoot":"src/pages/login/component"}]}